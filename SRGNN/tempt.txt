pip uninstall torch dgl
pip install torch --index-url https://download.pytorch.org/whl/cpu     \
            dgl --find-links https://data.dgl.ai/wheels/cpu/repo.html


pip install torchdata --index-url https://download.pytorch.org/whl/cpu



(.venv) [domino@run-6835c66438b2ca683eef7349-hk7wn SRGNN]$ pip show dgl torch torchdata
Name: dgl
Version: 2.1.0
Summary: Deep Graph Library
Home-page: https://github.com/dmlc/dgl
Author: 
Author-email: 
License: APACHE
Location: /home/domino/.local/lib/python3.11/site-packages
Requires: networkx, numpy, psutil, requests, scipy, torchdata, tqdm
Required-by: 
---
Name: torch
Version: 2.6.0+cu124
Summary: Tensors and Dynamic neural networks in Python with strong GPU acceleration
Home-page: https://pytorch.org/
Author: PyTorch Team
Author-email: packages@pytorch.org
License: BSD-3-Clause
Location: /usr/local/lib64/python3.11/site-packages
Requires: filelock, fsspec, jinja2, networkx, nvidia-cublas-cu12, nvidia-cuda-cupti-cu12, nvidia-cuda-nvrtc-cu12, nvidia-cuda-runtime-cu12, nvidia-cudnn-cu12, nvidia-cufft-cu12, nvidia-curand-cu12, nvidia-cusolver-cu12, nvidia-cusparse-cu12, nvidia-cusparselt-cu12, nvidia-nccl-cu12, nvidia-nvjitlink-cu12, nvidia-nvtx-cu12, sympy, triton, typing-extensions
Required-by: accelerate, pytorch-lightning, torchdata, torchmetrics, torchvision, torchviz
---
Name: torchdata
Version: 0.11.0
Summary: Composable data loading modules for PyTorch
Home-page: https://github.com/pytorch/data
Author: PyTorch Team
Author-email: packages@pytorch.org
License: BSD
Location: /home/domino/.local/lib/python3.11/site-packages
Requires: requests, torch, urllib3
Required-by: dgl
(.venv) [domino@run-6835c66438b2ca683eef7349-hk7wn SRGNN]$ python
Python 3.11.11 (main, Dec  9 2024, 15:32:27) [GCC 8.5.0 20210514 (Red Hat 8.5.0-22)] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import dgl
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/domino/.local/lib/python3.11/site-packages/dgl/__init__.py", line 16, in <module>
    from . import (
  File "/home/domino/.local/lib/python3.11/site-packages/dgl/dataloading/__init__.py", line 13, in <module>
    from .dataloader import *
  File "/home/domino/.local/lib/python3.11/site-packages/dgl/dataloading/dataloader.py", line 27, in <module>
    from ..distributed import DistGraph
  File "/home/domino/.local/lib/python3.11/site-packages/dgl/distributed/__init__.py", line 5, in <module>
    from .dist_graph import DistGraph, DistGraphServer, edge_split, node_split
  File "/home/domino/.local/lib/python3.11/site-packages/dgl/distributed/dist_graph.py", line 11, in <module>
    from .. import backend as F, graphbolt as gb, heterograph_index
  File "/home/domino/.local/lib/python3.11/site-packages/dgl/graphbolt/__init__.py", line 8, in <module>
    from .base import *
  File "/home/domino/.local/lib/python3.11/site-packages/dgl/graphbolt/base.py", line 8, in <module>
    from torchdata.datapipes.iter import IterDataPipe
ModuleNotFoundError: No module named 'torchdata.datapipes'


(.venv) [domino@run-6835c66438b2ca683eef7349-hk7wn SRGNN]$ which python
/usr/bin/python
(.venv) [domino@run-6835c66438b2ca683eef7349-hk7wn SRGNN]$ which pip
~/.local/bin/pip

